(()=>{var e=document.getElementById("play"),t=document.querySelector("video"),n=document.getElementById("volume"),u=document.getElementById("mute"),d=document.getElementById("currentTime"),i=document.getElementById("totalTime"),a=document.getElementById("timeLine"),o=document.getElementById("fullScreen"),r=document.getElementById("videoControls"),l=document.getElementById("videoContainer"),m=.5;n.value=m;var c=null,s=function(n){t.paused?t.play():t.pause(),e.innerText=t.paused?"play":"pause"},v=function(){return r.classList.remove("showing")};4==t.readyState&&handleLoadedMetadata(),e.addEventListener("click",s),u.addEventListener("click",(function(e){0!==Number(m)&&(t.muted?(t.muted=!1,n.value=m):(t.muted=!0,m=n.value,n.value=0),u.innerText=t.muted?"unmute":"mute")})),n.addEventListener("input",(function(e){var n=e.target.value;m=n,t.volume=n,0===Number(m)?(t.muted=!0,u.innerText="unmute"):t.muted&&0!==m&&(t.muted=!1,u.innerText="mute")})),t.addEventListener("loadedmetadata",(function(e){var n;i.innerText=(n=Math.floor(t.duration),new Date(1e3*n).toISOString().substring(14,19)),a.max=Math.floor(t.duration)})),t.addEventListener("timeupdate",(function(e){a.value=Math.floor(t.currentTime),d.innerText=Math.floor(t.currentTime)})),a.addEventListener("input",(function(e){t.currentTime=a.value,d.innerText=Math.floor(a.value)})),o.addEventListener("click",(function(e){document.fullscreenElement?(document.exitFullscreen(),o.innerText="Enter Full Screen"):(l.requestFullscreen(),o.innerText="Exit Full Screen")})),t.addEventListener("mousemove",(function(e){c&&(clearTimeout(c),c=null),r.classList.add("showing"),c=setTimeout(v,2e3)})),t.addEventListener("mouseleave",(function(e){controlsTimeout=setTimeout(v,2e3)})),l.addEventListener("click",(function(e){s()})),t.addEventListener("ended",(function(e){var t=l.dataset.id;fetch("/api/videos/".concat(t,"/end"),{method:"POST"})}))})();